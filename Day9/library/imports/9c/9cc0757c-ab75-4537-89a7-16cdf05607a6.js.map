{"version":3,"sources":["../../../../../assets/run/script/assets/run/script/runScript.js"],"names":["cc","Class","extends","Component","properties","player","Node","_move","_speed","_jumpHeight","_jump","_counter","_jumping","frame","node","emit","_moving","_tweenMove","onLoad","on","value","runAction","moveBy","v2","easing","easeIn","rotateBy","start","update","dt"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQL,GAAGM,IADH;AAERC,eAAO,IAFC;AAGRC,gBAAQ,IAHA;AAIRC,qBAAa,IAJL;AAKRC,eAAO,IALC;AAMRC,kBAAU;AANF,KAHP;;AAYL;;AAEAC,cAAU,kBAAUC,KAAV,EAAiB;AACvB,YAAI,CAAC,KAAKH,KAAV,EAAiB;AACjB,aAAKC,QAAL,IAAiBE,QAAQ,EAAzB;;AAEA,YAAI,KAAKF,QAAL,GAAgB,EAApB,EAAwB;AACpB;AACA;AACH;;AAED,YAAI,KAAKA,QAAL,GAAgB,EAApB,EAAwB;AACpB;AACA;AACH;;AAED,YAAI,KAAKA,QAAL,GAAgB,EAApB,EAAwB;AACpB;AACA;AACA,iBAAKA,QAAL,GAAgB,CAAhB;AACA,iBAAKD,KAAL,GAAa,KAAb;AACA,iBAAKI,IAAL,CAAUC,IAAV,CAAe,MAAf;AACH;AACJ,KAnCI;;AAqCLC,aAAS,iBAAUH,KAAV,EAAiB;AACtB,YAAI,CAAC,KAAKN,KAAV,EAAiB;AACjB,aAAKI,QAAL,IAAiBE,QAAQ,EAAzB;;AAEA,YAAI,KAAKF,QAAL,GAAgB,EAApB,EAAwB;AACpB,iBAAKA,QAAL,GAAgB,CAAhB;AACA,iBAAKG,IAAL,CAAUC,IAAV,CAAe,MAAf;AACH;;AAED;AACH,KA/CI;;AAiDLE,cAjDK,wBAiDQ,CAEZ,CAnDI;AAqDLC,UArDK,oBAqDI;AACL,aAAKJ,IAAL,CAAUK,EAAV,CAAa,MAAb,EAAqB,UAAUC,KAAV,EAAiB;AAClC,iBAAKb,KAAL,GAAa,IAAb;AACA,iBAAKC,MAAL,GAAcY,KAAd;AACA,iBAAKf,MAAL,CAAYgB,SAAZ,CAAsBrB,GAAGsB,MAAH,CAAU,CAAV,EAAatB,GAAGuB,EAAH,CAAM,MAAMH,KAAZ,EAAmB,CAAnB,CAAb,EAAoCI,MAApC,CAA2CxB,GAAGyB,MAAH,CAAU,GAAV,CAA3C,CAAtB;AACH,SAJD,EAIG,IAJH;AAKA,aAAKX,IAAL,CAAUK,EAAV,CAAa,MAAb,EAAqB,UAAUC,KAAV,EAAiB;AAClC,iBAAKV,KAAL,GAAa,IAAb;AACA,iBAAKD,WAAL,GAAmBW,KAAnB;AACA,iBAAKf,MAAL,CAAYgB,SAAZ,CAAsBrB,GAAGsB,MAAH,CAAU,GAAV,EAAetB,GAAGuB,EAAH,CAAM,CAAN,EAAS,GAAT,CAAf,CAAtB,EAAqDvB,GAAG0B,QAAH,CAAY,CAAZ,EAAe,GAAf,CAArD;AACH,SAJD,EAIG,IAJH;AAKA,aAAKZ,IAAL,CAAUK,EAAV,CAAa,MAAb,EAAqB,YAAY;AAC7B,iBAAKT,KAAL,GAAa,KAAb;AACA,iBAAKH,KAAL,GAAa,KAAb;AACH,SAHD,EAGG,IAHH;AAKH,KArEI;AAuELoB,SAvEK,mBAuEG,CAEP,CAzEI;AA2ELC,UA3EK,kBA2EEC,EA3EF,EA2EM;AACP,aAAKb,OAAL,CAAaa,EAAb;AACA,aAAKjB,QAAL,CAAciB,EAAd;AACH;AA9EI,CAAT","file":"runScript.js","sourceRoot":"../../../../../assets/run/script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        player: cc.Node,\n        _move: null,\n        _speed: null,\n        _jumpHeight: null,\n        _jump: null,\n        _counter: 0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    _jumping: function (frame) {\n        if (!this._jump) return;\n        this._counter += frame * 60;\n\n        if (this._counter < 30) {\n            // this.player.y += this._jumpHeight;\n            // this.player.angle += 360 / 2 / 30;\n        }\n\n        if (this._counter > 30) {\n            // this.player.y -= this._jumpHeight;\n            // this.player.angle += 360 / 2 / 30;\n        }\n\n        if (this._counter > 60) {\n            // this.player.angle = 360;\n            // this.player.y = -105;\n            this._counter = 0;\n            this._jump = false;\n            this.node.emit('stop');\n        }\n    },\n\n    _moving: function (frame) {\n        if (!this._move) return;\n        this._counter += frame * 60;\n\n        if (this._counter > 60) {\n            this._counter = 0;\n            this.node.emit('stop');\n        }\n\n        // this.player.x += this._speed;\n    },\n\n    _tweenMove() {\n\n    },\n\n    onLoad() {\n        this.node.on('move', function (value) {\n            this._move = true;\n            this._speed = value;\n            this.player.runAction(cc.moveBy(1, cc.v2(100 * value, 0)).easing(cc.easeIn(2.0)));\n        }, this);\n        this.node.on('jump', function (value) {\n            this._jump = true;\n            this._jumpHeight = value;\n            this.player.runAction(cc.moveBy(0.5, cc.v2(0, 100)), cc.rotateBy(1, 360));\n        }, this);\n        this.node.on('stop', function () {\n            this._jump = false;\n            this._move = false;\n        }, this);\n\n    },\n\n    start() {\n\n    },\n\n    update(dt) {\n        this._moving(dt);\n        this._jumping(dt);\n    },\n});\n"]}