window.__require=function t(e,n,i){function s(c,r){if(!n[c]){if(!e[c]){var h=c.split("/");if(h=h[h.length-1],!e[h]){var u="function"==typeof __require&&__require;if(!r&&u)return u(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+c+"'")}}var a=n[c]={exports:{}};e[c][0].call(a.exports,function(t){return s(e[c][1][t]||t)},a,a.exports,t,e,n,i)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function o(t){return"number"==typeof t}function c(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,o,h,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(r(n=this._events[t]))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(c(n))for(o=Array.prototype.slice.call(arguments,1),i=(u=n.slice()).length,h=0;h<i;h++)u[h].apply(this,o);return!0},i.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?c(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,c(this._events[t])&&!this._events[t].warned&&(n=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!s(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var n,i,o,r;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,i=-1,n===e||s(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(c(n)){for(r=o;r-- >0;)if(n[r]===e||n[r].listener&&n[r].listener===e){i=r;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(s(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],buttonScript:[function(t,e,n){"use strict";cc._RF.push(e,"d5752JFgY5EC5l1Qbn1zmOR","buttonScript"),cc.Class({extends:cc.Component,properties:{leftButton:cc.Node,rightButton:cc.Node,jumpButton:cc.Node,buttons:[cc.Button]},_onStop:function(){this.buttons.forEach(function(t){t.getComponent("cc.Button").interactable=!0})},_onMove:function(){this.buttons.forEach(function(t){t.getComponent("cc.Button").interactable=!1})},_addEventListener:function(){return this.leftButton.on("click",function(){this.node.emit("move",-2)},this),this.rightButton.on("click",function(){this.node.emit("move",2)},this),this.jumpButton.on("click",function(){this.node.emit("jump",3)},this),this.node.on("stop",this._onStop,this),this.node.on("move",this._onMove,this),this.node.on("jump",this._onMove,this),"event added"},onLoad:function(){this._addEventListener()},start:function(){}}),cc._RF.pop()},{}],event:[function(t,e,n){"use strict";cc._RF.push(e,"96829oqSOhL6ptyik9CTP/m","event");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("events"),c=function(){function t(){s(this,t),this._emitter=new o,this._emitter.setMaxListeners(100)}return i(t,[{key:"emit",value:function(){var t;(t=this._emitter).emit.apply(t,arguments)}},{key:"registerEvent",value:function(t,e){this._emitter.on(t,e)}},{key:"registerOnce",value:function(t,e){this._emitter.once(t,e)}},{key:"removeEvent",value:function(t,e){this._emitter.removeListener(t,e)}},{key:"destroy",value:function(){this._emitter.removeAllListeners(),this._emitter=null,t.instance=null}}]),t}();c.instance=null,e.exports=c,cc._RF.pop()},{events:1}],hahaScript:[function(t,e,n){"use strict";cc._RF.push(e,"3eba08RqYpHC6O9bUP91Rj2","hahaScript");var i=t("event");cc.Class({extends:cc.Component,properties:{},onClickButton:function(){this.onHello(),this.onWelcome()},onLoad:function(){i.instance=new i,i.instance.registerEvent("HELLO",this.onHello.bind(this)),i.instance.registerOnce("WELCOME",this.onWelcome.bind(this))},onHello:function(t){cc.log("hello",t)},onWelcome:function(t){cc.log("welcome",t)},start:function(){}}),cc._RF.pop()},{event:"event"}],javaScript:[function(t,e,n){"use strict";cc._RF.push(e,"849ebZtTLNBa6tIjZPwsOmh","javaScript");var i=t("event");cc.Class({extends:cc.Component,start:function(){},onHello:function(){i.instance.emit("HELLO","hellooooooo")},onWelcome:function(){i.instance.emit("WELCOME","Welcomeeeee")}}),cc._RF.pop()},{event:"event"}],keyScript:[function(t,e,n){"use strict";cc._RF.push(e,"40e13w7efJEhLyWTCIzkDCT","keyScript"),cc.Class({extends:cc.Component,properties:{},_onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:this.node.emit("move",-2);break;case cc.macro.KEY.d:this.node.emit("move",2);break;case cc.macro.KEY.w:this.node.emit("jump",3)}},_onMove:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this._onKeyDown,this)},_onStop:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this._onKeyDown,this)},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this._onKeyDown,this),this.node.on("move",this._onMove,this),this.node.on("stop",this._onStop,this)},start:function(){}}),cc._RF.pop()},{}],runScript:[function(t,e,n){"use strict";cc._RF.push(e,"f33062ez9ROGL2LWP5FgMTy","runScript"),cc.Class({extends:cc.Component,properties:{player:cc.Node,_move:null,_speed:null,_jumpHeight:null,_jump:null,_counter:0},_moveLeft:function(t){this.node.x+=t},_jumping:function(t){this._jump&&(this._counter+=60*t,this._counter<30&&(this.player.y+=this._jumpHeight,this.player.angle+=6),this._counter>30&&(this.player.y-=this._jumpHeight,this.player.angle+=6),this._counter>60&&(this.player.angle=360,this.player.y=-105,this._counter=0,this._jump=!1,this.node.emit("stop")))},_moving:function(t){this._move&&(this._counter+=60*t,this._counter>60&&(this._counter=0,this.node.emit("stop")),this.player.x+=this._speed)},onLoad:function(){this.node.on("move",function(t){this._move=!0,this._speed=t},this),this.node.on("jump",function(t){this._jump=!0,this._jumpHeight=t},this),this.node.on("stop",function(){this._jump=!1,this._move=!1},this)},start:function(){},update:function(t){this._moving(t),this._jumping(t)}}),cc._RF.pop()},{}],scriptButton:[function(t,e,n){"use strict";cc._RF.push(e,"07308iVOmRCiLieeWPA/UIk","scriptButton"),cc.Class({extends:cc.Component,properties:{leftButton:cc.Button,rightButton:cc.Button,jumpButton:cc.Button},_onLeft:function(t){cc.log("left"),this._disableButton(),this.node.emit("moveLeft",!0),t.stopPropagation()},_onRight:function(){cc.log("right")},_onJump:function(){cc.log("jump")},_disableButton:function(){this.leftButton.interactable=!1,this.rightButton.interactable=!1,this.jumpButton.interactable=!1},_enableButton:function(){this.node.off("left"),this.leftButton.interactable=!0,this.rightButton.interactable=!0,this.jumpButton.interactable=!0},onLoad:function(){this.node.on("left",this._onLeft,this),this.node.on("stop",function(t){cc.log("stop"),this._enableButton(),t.stopPropagation()},this)},start:function(){}}),cc._RF.pop()},{}],scriptKey:[function(t,e,n){"use strict";cc._RF.push(e,"11c37VlFNdFlo6L9BVD1VF5","scriptKey"),cc.Class({extends:cc.Component,properties:{},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.a:console.log("Press a key"),this.node.dispatchEvent(new cc.Event.EventCustom("left",!0));break;case cc.macro.KEY.d:console.log("Press d key"),this.node.dispatchEvent(new cc.Event.EventCustom("right",!0));break;case cc.macro.KEY.w:console.log("Press w key"),this.node.dispatchEvent(new cc.Event.EventCustom("jump",!0))}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.a:console.log("release a key"),this.node.dispatchEvent(new cc.Event.EventCustom("stop",!0));break;case cc.macro.KEY.d:console.log("release d key"),this.node.dispatchEvent(new cc.Event.EventCustom("stop",!0));break;case cc.macro.KEY.w:console.log("release w key"),this.node.dispatchEvent(new cc.Event.EventCustom("stop",!0))}},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},start:function(){}}),cc._RF.pop()},{}],scriptWalk:[function(t,e,n){"use strict";cc._RF.push(e,"5ca6c4yFcRDhapYaFqWz+kz","scriptWalk"),cc.Class({extends:cc.Component,properties:{player:cc.Node,_speed:{default:1,serializable:!1},_movingLeft:{default:!1},_movingRight:{default:!1},_jumping:{default:!1},_rotateSpeed:{default:6,type:cc.Float},_counter:{default:0},_fps:{default:60}},_moveLeft:function(){this.player.x-=this._speed,this._counter++,this._counter>=this._fps&&(this._counter=0,this._movingLeft=!1)},_jump:function(){this.player.y+=this._speed,this._counter++,this._counter>=this._fps/4&&(this.player.y-=this._speed,this.player.angle+=12),this._counter>=this._fps/4*3&&(this.player.y-=this._speed,this.player.angle-=12),this._counter>=this._fps&&(this._counter=0,this._jumping=!1,this._enableButton())},_moveRight:function(){this.player.x+=this._speed,this._counter++,this._counter>=this._fps&&(this._counter=0,this._movingRight=!1,this._enableButton())},onLoad:function(){this.node.on("moveLeft",function(t){cc.log(t)})},start:function(){},update:function(t){this._movingLeft&&this._moveLeft()}}),cc._RF.pop()},{}]},{},["buttonScript","keyScript","runScript","scriptButton","scriptKey","scriptWalk","event","hahaScript","javaScript"]);