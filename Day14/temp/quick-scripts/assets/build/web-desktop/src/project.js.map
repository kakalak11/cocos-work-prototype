{"version":3,"sources":["project.js"],"names":["window","__require","n","t","i","o","e","s","a","r","split","length","l","c","Error","u","exports","call","bullet","cc","_RF","push","Class","extends","Component","properties","_direction","_speed","onLoad","start","update","node","x","log","pop","objectFalling","onCollisionEnter","onCollisionStay","tag","runAction","sequence","spawn","scaleTo","fadeOut","callFunc","destroy","onCollisionExit","console","on","_shoot","spaceboy","_animating","_moving","_canShoot","bulletPrefab","Prefab","_jump","jumpThrough","animation","setAnimation","moveBy","setCompleteListener","_move","action","easing","easeSineInOut","addAnimation","instantiate","parent","addChild","setPosition","v2","getPosition","y","scale","script","getComponent","direction","_onKeyDown","keyCode","macro","KEY","space","d","w","stopAction","director","getCollisionManager","enabled","enabledDebugDraw","systemEvent","SystemEvent","EventType","KEY_DOWN","emit"],"mappings":"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","file":"project.js","sourceRoot":"../../../../../../assets/build/web-desktop/src","sourcesContent":["window.__require=function n(t,i,o){function e(s,a){if(!i[s]){if(!t[s]){var r=s.split(\"/\");if(r=r[r.length-1],!t[r]){var l=\"function\"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(c)return c(r,!0);throw new Error(\"Cannot find module '\"+s+\"'\")}}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(n){return e(t[s][1][n]||n)},u,u.exports,n,t,i,o)}return i[s].exports}for(var c=\"function\"==typeof __require&&__require,s=0;s<o.length;s++)e(o[s]);return e}({bullet:[function(n,t,i){\"use strict\";cc._RF.push(t,\"90440okT1VCjrScS70TgRZv\",\"bullet\"),cc.Class({extends:cc.Component,properties:{_direction:null,_speed:1e3},onLoad:function(){},start:function(){},update:function(n){this.node.x+=this._speed,cc.log(\"bullet flying\")}}),cc._RF.pop()},{}],objectFalling:[function(n,t,i){\"use strict\";cc._RF.push(t,\"da4420NSyZPDK+3Kt/hlibQ\",\"objectFalling\"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(n,t){cc.log(\"on collision enter\")},onCollisionStay:function(n,t){1===t.tag&&1===n.tag&&(cc.log(t.node),t.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5,2),cc.fadeOut(.5,0)),cc.callFunc(function(){return t.node.destroy()}))),n.node.destroy())},onCollisionExit:function(n,t){console.log(\"on collision exit\")},onLoad:function(){var n=this;this.node.on(\"shoot\",function(){return n._shoot=!0},this)},start:function(){}}),cc._RF.pop()},{}],spaceboy:[function(n,t,i){\"use strict\";cc._RF.push(t,\"88b9frFMkRF4ZI9LNqbfOwK\",\"spaceboy\"),cc.Class({extends:cc.Component,properties:{_animating:!1,_moving:null,_direction:1,_canShoot:null,bulletPrefab:cc.Prefab},_jump:function(){var n=this;this.jumpThrough=!0,this._moving=!0,this.animation.setAnimation(0,\"jump\",!1),this.node.runAction(cc.moveBy(1,120*this._direction,0)),this.animation.setCompleteListener(function(){n.animation.setCompleteListener(function(){}),n.animation.setAnimation(0,\"idle\",!0),n.jumpThrough=!1,n._moving=!1})},_move:function(n){var t=this;this._direction=n,this._moving||(this._moving=!0,this.action=cc.sequence(cc.spawn(cc.moveBy(.5,60*this._direction,0).easing(cc.easeSineInOut(.5)),cc.scaleTo(0,.1*this._direction,.1),cc.callFunc(function(){return t.animation.setAnimation(0,\"run\",!0)})),cc.callFunc(function(){return t._moving=!1}),cc.callFunc(function(){return t.animation.addAnimation(0,\"idle\",!0)})),this.node.runAction(this.action))},_shoot:function(){var n=this;this.bullet=cc.instantiate(this.bulletPrefab),this.node.parent.addChild(this.bullet),this.bullet.setPosition(cc.v2(this.node.getPosition(cc.v2()))),this.bullet.y+=25,this.bullet.scale=.1,this.script=this.bullet.getComponent(\"bullet\"),this.script.direction=this._direction,this.animation.setAnimation(0,\"shoot\",!1),this.animation.setCompleteListener(function(){n.animation.setCompleteListener(function(){}),n.animation.setAnimation(0,\"idle\",!0)})},_onKeyDown:function(n){switch(cc.log(\"key down\"),n.keyCode){case cc.macro.KEY.space:this._shoot();break;case cc.macro.KEY.a:this._move(-1);break;case cc.macro.KEY.d:this._move(1);break;case cc.macro.KEY.w:this._jump()}},onCollisionEnter:function(n,t){cc.log(\"on collision enter\")},onCollisionStay:function(n,t){this.jumpThrough||(t.node.x+=2*-this._direction,this.node.stopAction(this.action),this.animation.setAnimation(0,\"idle\",!0),this._moving=!1)},onCollisionExit:function(n,t){console.log(\"on collision exit\"),this._canShoot=!1},onLoad:function(){this.animation=this.node.getComponent(\"sp.Skeleton\");var n=cc.director.getCollisionManager();n.enabled=!0,n.enabledDebugDraw=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this._onKeyDown,this)},start:function(){this.node.emit(\"test\")},update:function(n){}}),cc._RF.pop()},{}]},{},[\"bullet\",\"objectFalling\",\"spaceboy\"]);"]}