{"version":3,"sources":["main.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","nodePrefab","Prefab","ctor","list","Array","_createNode","i","nodeInstance","instantiate","node","addChild","script","getComponent","instance","registerEvent","_onMove","bind","_index","push","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","event","keyCode","macro","KEY","space","emit","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAYL,GAAGM;AADP,KAHP;;AAOLC,UAAM,gBAAY;AACd,aAAKC,IAAL,GAAY,IAAIC,KAAJ,EAAZ;AACH,KATI;;AAWLC,eAXK,yBAWS;AACV,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AACxB,iBAAKC,YAAL,GAAoBZ,GAAGa,WAAH,CAAe,KAAKR,UAApB,CAApB;AACA,iBAAKS,IAAL,CAAUC,QAAV,CAAmB,KAAKH,YAAxB;AACA,iBAAKI,MAAL,GAAc,KAAKJ,YAAL,CAAkBK,YAAlB,CAA+B,YAA/B,CAAd;AACAnB,oBAAQoB,QAAR,CAAiBC,aAAjB,CAA+B,MAA/B,EAAuC,KAAKH,MAAL,CAAYI,OAAZ,CAAoBC,IAApB,CAAyB,KAAKL,MAA9B,CAAvC;AACA,iBAAKA,MAAL,CAAYM,MAAZ,GAAqB,CAACX,CAAD,EAAI,CAAJ,CAArB;AACA,iBAAKH,IAAL,CAAUe,IAAV,CAAe,EAAET,MAAM,KAAKF,YAAb,EAA2BI,QAAQ,KAAKA,MAAxC,EAAf;AACH;AACJ,KApBI;;;AAsBL;;AAEAQ,UAxBK,oBAwBI;AACLxB,WAAGyB,WAAH,CAAeC,EAAf,CAAkB1B,GAAG2B,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,UAACC,KAAD,EAAW;AAAEA,kBAAMC,OAAN,KAAkB/B,GAAGgC,KAAH,CAASC,GAAT,CAAaC,KAA/B,GAAuCpC,QAAQoB,QAAR,CAAiBiB,IAAjB,CAAsB,MAAtB,CAAvC,GAAuE,IAAvE;AAA6E,SAA/I,EAAiJ,IAAjJ;AACArC,gBAAQoB,QAAR,GAAmB,IAAIpB,OAAJ,EAAnB;AACA,aAAKY,WAAL;AACA;AACH,KA7BI;AA+BL0B,SA/BK,mBA+BG,CACP;AAhCI;;AAkCL;AAlCJ","file":"main.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst Emitter = require('mEmitter');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nodePrefab: cc.Prefab,\n    },\n\n    ctor: function () {\n        this.list = new Array();\n    },\n\n    _createNode() {\n        for (let i = 0; i < 3; i++) {\n            this.nodeInstance = cc.instantiate(this.nodePrefab);\n            this.node.addChild(this.nodeInstance);\n            this.script = this.nodeInstance.getComponent('nodeScript');\n            Emitter.instance.registerEvent('move', this.script._onMove.bind(this.script));\n            this.script._index = [i, 0];\n            this.list.push({ node: this.nodeInstance, script: this.script });\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, (event) => { event.keyCode === cc.macro.KEY.space ? Emitter.instance.emit('move') : null }, this);\n        Emitter.instance = new Emitter();\n        this._createNode();\n        // Emitter.instance.emit('move', 'no work yet, just say hi');\n    },\n\n    start() {\n    },\n\n    // update (dt) {},\n});\n"]}