{"version":3,"sources":["../../../../../assets/Animation/scripts/assets/Animation/scripts/animationScript.js"],"names":["cc","Class","extends","Component","properties","animation","sp","Skeleton","footstepSound","AudioSource","_onKeyDown","event","keyCode","macro","KEY","space","runAnimation","onLoad","setEventListener","entry","play","data","log","name","setAnimation","addAnimation","setCompleteListener","stop","start","systemEvent","on","SystemEvent","EventType","KEY_DOWN"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAWC,GAAGC,QADN;AAERC,uBAAeR,GAAGS;AAFV,KAHP;;AAQL;;AAEAC,gBAAY,oBAAUC,KAAV,EAAiB;AACzB,gBAAQA,MAAMC,OAAd;AACI,iBAAKZ,GAAGa,KAAH,CAASC,GAAT,CAAaC,KAAlB;AACI,qBAAKC,YAAL;AACA;AAHR;AAKH,KAhBI;;AAkBLC,UAlBK,oBAkBI;AAAA;;AACL,aAAKZ,SAAL,CAAea,gBAAf,CAAgC,UAACC,KAAD,EAAQR,KAAR,EAAkB;AAC9C,kBAAKH,aAAL,CAAmBY,IAAnB;AAD8C,gBAEtCC,IAFsC,GAE7BV,KAF6B,CAEtCU,IAFsC;;AAG9CrB,eAAGsB,GAAH,CAAOD,KAAKE,IAAZ;AACH,SAJD,EAIG,IAJH;AAKH,KAxBI;;;AA0BLP,kBAAc,wBAAY;AAAA;;AACtB,aAAKX,SAAL,CAAemB,YAAf,CAA4B,CAA5B,EAA+B,MAA/B,EAAuC,KAAvC;AACA,aAAKnB,SAAL,CAAeoB,YAAf,CAA4B,CAA5B,EAA+B,KAA/B,EAAsC,KAAtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAKpB,SAAL,CAAeqB,mBAAf,CAAmC,YAAM;AACrC1B,eAAGsB,GAAH,CAAO,UAAP;AACA,mBAAKd,aAAL,CAAmBmB,IAAnB;AACA,mBAAKtB,SAAL,CAAeqB,mBAAf,CAAmC,YAAM,CAAG,CAA5C;AACH,SAJD;AAKH,KA5CI;;AA8CLE,SA9CK,mBA8CG;AACJ5B,WAAG6B,WAAH,CAAeC,EAAf,CAAkB9B,GAAG+B,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKvB,UAA1D,EAAsE,IAAtE;AACH;AAhDI;;AAkDL;AAlDJ","file":"animationScript.js","sourceRoot":"../../../../../assets/Animation/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        animation: sp.Skeleton,\n        footstepSound: cc.AudioSource,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    _onKeyDown: function (event) {\n        switch (event.keyCode) {\n            case cc.macro.KEY.space:\n                this.runAnimation();\n                break;\n        }\n    },\n\n    onLoad() {\n        this.animation.setEventListener((entry, event) => {\n            this.footstepSound.play();\n            const { data } = event;\n            cc.log(data.name);\n        }, this);\n    },\n\n    runAnimation: function () {\n        this.animation.setAnimation(0, 'walk', false);\n        this.animation.addAnimation(0, 'run', false);\n        // this.animation.setAnimation(0, 'aim', false);\n        // this.animation.addAnimation(0, 'death', false);\n        // this.animation.addAnimation(0, 'hoverboard', false);\n        // this.animation.addAnimation(0, 'idle', false);\n        // this.animation.addAnimation(0, 'idle-turn', false);\n        // this.animation.addAnimation(0, 'portal', false);\n        // this.animation.addAnimation(0, 'run-to-idle', false);\n        // this.animation.addAnimation(0, 'shoot', false);\n        // this.animation.addAnimation(0, 'walk', false);\n\n        this.animation.setCompleteListener(() => {\n            cc.log('complete');\n            this.footstepSound.stop()\n            this.animation.setCompleteListener(() => { });\n        });\n    },\n\n    start() {\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this._onKeyDown, this);\n    },\n\n    // update (dt) {},\n});\n"]}